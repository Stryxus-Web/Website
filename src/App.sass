@use 'sass:math'

@import '~bootstrap/scss/bootstrap-grid'
$bootstrap-icons-font-dir: "/node_modules/bootstrap-icons/font/fonts" // For some reason the bootstrap-icons font doesnt load in dev when this isnt present.
@import '~bootstrap-icons/font/bootstrap-icons'

@import 'styles/Theme'

// Raider Crusader Fonts

@font-face 
    font-family: 'RaiderCrusader'
    font-weight: 300
    src: url(@/assets/fonts/raidercrusader.woff2) format('woff2')
    font-display: swap

@font-face 
    font-family: 'RaiderCrusader'
    font-weight: 300
    font-style: italic
    font-variation-settings: 'ital' 1
    font-synthesis: none
    src: url(@/assets/fonts/raidercrusaderital.woff2) format('woff2')
    font-display: swap

@font-face 
    font-family: 'RaiderCrusader-Condensed'
    font-weight: 300
    src: url(@/assets/fonts/raidercrusadercond.woff2) format('woff2')
    font-display: swap

@font-face 
    font-family: 'RaiderCrusader-Expanded'
    font-weight: 300
    src: url(@/assets/fonts/raidercrusaderexpand.woff2) format('woff2')
    font-display: swap

main, #border, #preapp-transit
    position: fixed
    right: 0px
    overflow-x: hidden
    overflow-y: visible
main
    width: unset !important
    z-index: $zIndexMain
#border
    background-color: $greenColour2TransparencyHigh
    backdrop-filter: blur(6px)
    z-index: $zIndexMainBorder
#m-button
    position: absolute
    top: 0px
    bottom: 0px
    left: 0px
    width: 18px
    height: 100vh
    background-color: $greenColour2TransparencyHigh
    backdrop-filter: blur(6px)
    z-index: $zIndexMobileButton
    &:hover
        background-color: $greenColour3
    i
        position: absolute
        top: 50%
        transform: translateY(-50%)
        left: 1px
        font-size: 16px
#header, #footer
    position: fixed
    height: $siteContainerSectionHeight + px
    left: 0px
    right: 0px
    z-index: $zIndexSiteContainer
    &.disabled
        pointer-events: none
    &.active
        & > .row > img
            border-color: $white
    & > .row 
        height: inherit
        & > .col
            margin-top: math.div(-$borderRadius, 2) + px
#header
    top: 0px
    & > .row
        margin-left: -$bootstrapMargin + px
        & > .col
            height: 120px
            background-color: $black
            clip-path: polygon(0% 0%, 100% 0%, 100% calc(100% - 87px), #{$navigationBarWidth + 50 + px} calc(100% - 87px), #{$navigationBarWidth + px} calc(100% - 37px), #{$navigationBarWidth + px} calc(100% - 25px), calc(#{$navigationBarWidth + px} - 25px) 100%, 25px 100%, 0% calc(100% - 25px))
            #avatar-img-container
                display: block
                background-color: $black
                clip-path: polygon(0% 15px, 15px 0%, calc(100% - 15px) 0%, 100% 15px, 100% calc(100% - 15px), calc(100% - 15px) 100%, 15px 100%, 0% calc(100% - 15px))
                width: 48px
                height: 48px
                cursor: pointer
                transition: 0.33s
                padding: 8px
                transform: translateY(42px) translateX(6px)
                &:hover, &.active
                    background-color: $greenColour2TransparencyHigh
                &.disabled
                    pointer-events: none
                img
                    clip-path: polygon(0% 10px, 10px 0%, calc(100% - 10px) 0%, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0% calc(100% - 10px))
#footer
    bottom: 0px
    & > .row
        & > .col
            height: 120px
            background-color: $black
            clip-path: polygon(0% 25px, 25px 0%, calc(#{$navigationBarWidth + px} - 25px) 0%, #{$navigationBarWidth + px} 25px, #{$navigationBarWidth + px} 25px, #{$navigationBarWidth + px} 37px, #{$navigationBarWidth + 50 + px} 87px, 100% 87px, 100% 100%, 0% 100%)
            & > .row
                &:nth-child(1)
                    & > .col
                        i
                            display: block
                            text-align: center
                            width: 42px
                            line-height: 42px
                            font-size: 36px
                            padding: 8px
                            margin-left: 10px
                            margin-top: 12px
                            cursor: pointer
                            transition: 0.33s
                            clip-path: polygon(0% 15px, 15px 0%, calc(100% - 15px) 0%, 100% 15px, 100% calc(100% - 15px), calc(100% - 15px) 100%, 15px 100%, 0% calc(100% - 15px))
                            &:hover
                                background-color: $greenColour3TransparencyHigh
                            &.active
                                background-color: $greenColour3TransparencyLow
                &:nth-child(2)
                    & > .col
                        padding-left: 6px
                        padding-top: 7px
                        small
                            font-size: 10px

$borderMargin: 8px

@include media-breakpoint-up(lg)
    main
        top: #{$bootstrapMargin * 2 - 8} + px
        bottom: #{$bootstrapMargin * 2 - 8} + px
        left: #{$navigationBarWidth + $bootstrapMargin - 4} + px
    #border
        clip-path: polygon(0% 50px, 50px 0%, 100% 0%, 100% $borderMargin, 46px + $borderMargin $borderMargin, $borderMargin 46px + $borderMargin, $borderMargin calc(100% - (46px + $borderMargin)), 46px + $borderMargin calc(100% - $borderMargin), 100% calc(100% - $borderMargin), 100% 100%, 50px 100%, 0% calc(100% - 50px))
    #border
        top: #{$bootstrapMargin - 4} + px
        bottom: #{$bootstrapMargin - 4} + px
        left: $navigationBarWidth + px
@include media-breakpoint-down(lg)
    main
        top: 0px
        bottom: 0px
        left: 18px
    #border
        clip-path: polygon(0% 10px, 10px 0%, 100% 0%, 100% 100%, 10px 100%, 0% calc(100% - 10px))
    #border
        top: 0px
        bottom: 0px
        left: 0px